# 也许你可以是一个画家

这是个从别人哪里听来的比喻来着，在引用说明之前，我先简单介绍下 Vim 的模式吧

## Modes

Vim 主要有以下模式

- 普通模式 ( **Normal** )
- 插入模式 ( **Insert** )
- 可视模式 ( **Visual** )
- 命令模式 ( **Command** )
- 替换模式 ( **Replace** )
- 终端模式 ( **Terminal** )

且听我逐个道来

### 普通模式

是最基础，也最重要的模式。
在该模式下，原来简单的输出字母, 数字和符号的按键转变为具有语义，更加强而有力的功能键。
其它所有模式都通向它，它也可以去往所有其它模式，罗马中的罗马

#### 演示

如果你现在正在用 Vim 的话，先在普通模式下用方向键移动到下面的 "here"的'H' 上

```text
                    -> Here! <-
Are you READY? then plesae press the key below by order

d2w   删掉Here! delete 2 words
0     来到第一列
P     粘贴刚才删除的东西 paste
D     删掉后面剩下的 Delete
J     连接两行 Join
3w    来到第三个单词 3 words
gue   小写到单词末尾 end
fs    找到下一个 s
xp    叉掉又粘贴
fk    找到下一个 k
e     来到 key 的末尾 end
p     粘贴刚才删掉的 s
0     来到最前面
gsa$" 给整个句子包上引号 surrounding add (to) $ (with) "
```

唔，这好像会让你觉得 Vim 有些繁琐，我相信你以后用得得心应手之后这种小操作能很快完成的,
就像刚学`C/C++`时，要对着别人的代码逐字逐词地打一篇"Hello World",
但学了一段时间之后，打那种代码真是驾轻就熟，用不了多少秒

> 你可以直接跳转到最后阅读 [停顿时请移开画笔](#停顿时请移开画笔)，然后直接开始下一章节的学习，接下来的内容不算多么重要。

### 插入模式

就是单纯又无情的打字模式啦，没什么好说的

有很多办法从普通模式进入插入模式，最常规的就是`i`和`a`了

分别是`Insert`和`Append`，分别把光标放在当前字符的前面和后面
插前附后，插队是插在别人前面，依附是附在别人后面，还算好理解吧，话说这个好像和`Python`还有`JavaScript`那里也是一样的

大写的`I`和`A`就是大前面和大后面，试一试就明白了

从普通模式进入到插入模式，前面说过了，是`Esc`

> [!Tip]
> 我一般会将`jk`映射到`<Esc>`上
> 方法: `<leader>fc`查找`config`文件, 搜索`keymap`
> 在`keymap.lua`文件中设置
>
>```lua
> vim.keymap.set("i", "jk", "<Esc>", { desc = "which_key_ignore" })
>```

### 可视模式

就是选择啦，按下`v`，`V`，`C-v`，分别进入逐字选择，逐行选择，逐块选择模式

#### 演示

```text
name      age       favorite-game
lingshin  19        Inscryption
youngu    19        ori
someone   ??        unknown

跟我念

76G0          跳转到第 76 行 第1列
w             下一个单词
h             移到左边
<C-v>         逐块选择
3j            扩展选区
I<space><Esc> 向前填充空格
...           重复三下
gv            回到刚才的选区
r|            替换成'|'
2w            下两个单词
4h            左走四列
.             重复上次操作
yy            复制一整行
p             粘贴在下面
V             选中一整行
r-            替换成'-'
```

### 命令模式

命令模式啊，说实在的，其实我用得也不是很熟,
最常用的还是替换呢

以下命令可以让下面所有以大写'H'开头的单词包上括号，直接复制粘贴好了

Vim 的复制粘贴有些不同，为了方便起见, 将光标移到下面的命令上, 然后依次按下`:<C-r><C-a>`

117s/\v(H\w+)/"\1"/g

```text
words start with 'H' include Hello，Happy，Heaven，Hell，Hi
```

虽然与你熟知的不同，但这确实是查找替换，Vim 对正则表达式的支持很不错，命令行模式下，也能实现很多精确，泛用，又高效的操作，只是不够直观，所以我很少使用

### 替换模式

这个模式比 Insert 模式还没什么好说的

在普通模式下按`R`，可以连续替换光标下的字符，按`ESc`退出

在插入模式下按`Insert`键切换替换模式与插入模式，是键盘上的`Insert`键噢

#### 练习

请试着用替换模式把`天堂制造`替换成`海南制造`吧

```text
made in heaven
```

大概是这么一回事，实际上像这样需要修改的单词和原单词等长的情况并不常见,
我通常会用别的更泛用的方法来替换单词，所以你也不用特别在意这个有些凑数的模式

### 终端模式

终端模式有多好用，取决你有多会用终端，起码编译运行是需要用到的

LazyVim 下按`C-/`可以打开一个浮动终端，再次按下可以关闭，双击`Esc`可以进入终端的普通模式，
在该模式下可以进行上下移动，查找，复制粘贴

#### 练习

进入终端后试着输入 `tree` 看看，这个命令三个平台都支持，昂，如果不行的话就 `ls` 或者 `dir` 吧

> [!TIP]
> 如果你想多了解命令行的话，请试着使用 powershell，
> cmd 在很早就应该被 **powershell** 取代了，在微软商店下载最新版的 **pwsh**，经过配置以后可以很方便好用，也美观得多
> 学 powershell 也可以来找我噢

## 停顿时请移开画笔

### 来自 《**Vim 实用技巧**》

> 对于不习惯 Vim 的人来说，普通模式看上去是一种奇怪的默认状态,
> 但有经验的 Vim 用户却很难想象还有什么其他任何方式。
> 本节使用了一个比喻来说明为什么 Vim 要采用这种方式。
>
> 你估计画家会花费多少时间用画笔在画布上作画? 毫无疑问，这因人而异,
> 但是，如果这占了画家全部工作时间的一半还要多的话，我会觉得非常诧异。
>
> 想一下除了画画外，画家还要做哪些事情。
> 他们要研究主题，调整光线，把颜料混合成新的色彩，而且在把颜料往画布上画时，
> 谁说他们必须要用画笔？画家也许会换用刻刀来实现不同质地，或是用棉签来对已经画好的地方进行润色。
>
> 画家在休息时不会把画笔放在画布上。对 Vim 而言也是这样，普通模式就是 Vim 的自然放松状态，其名字已经寓示了这一点。
>
> 就像画家只花一小部分时间涂色一样，程序也只花一小部分时间编写代码。
> 绝大多数时间用来思考、阅读、以及在代码中穿梭浏览。
> 而且当确实需要修改时，谁说一定要切换到插入模式才行？
> 我们可以重新调整已有代码的格式，复制他们，移动其位置，或是删除它们。在普通模式中，我们有众多的工具可以利用

[下一节: 移动](./3.移动.md)
